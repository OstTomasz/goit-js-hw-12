import"./assets/styles-N0ZkVh6F.js";import{S as _,i as a,a as z}from"./assets/vendor-CRCB-GUD.js";const I=document.querySelector("#form"),b=document.querySelector("#form-input"),c=document.querySelector("#loader"),n=document.querySelector("#gallery"),l=document.querySelector("#more");let r=0,i="",d=0;const m=15,O="https://pixabay.com/api/",e=(t,s)=>Object.assign(document.createElement(t),s),U=({webformatURL:t,largeImageURL:s,tags:o,likes:x,views:S,comments:C,downloads:E})=>{const p=e("a",{className:"lightbox-link",href:s}),u=e("li",{className:"result"}),k=e("img",{className:"result-pic",src:t,alt:o}),h=e("div",{className:"result-desc"}),g=e("div",{className:"desc-el"}),q=e("p",{className:"desc-header",textContent:"Likes"}),B=e("p",{className:"desc-value",textContent:x});g.append(q,B);const y=e("div",{className:"desc-el"}),D=e("p",{className:"desc-header",textContent:"Views"}),H=e("p",{className:"desc-value",textContent:S});y.append(D,H);const v=e("div",{className:"desc-el"}),V=e("p",{className:"desc-header",textContent:"Comments"}),P=e("p",{className:"desc-value",textContent:C.toString()});v.append(V,P);const f=e("div",{className:"desc-el"}),T=e("p",{className:"desc-header",textContent:"Downloads"}),R=e("p",{className:"desc-value",textContent:E});return f.append(T,R),h.append(g,y,v,f),p.append(k),u.append(p,h),u},N=(t,s)=>{const o=document.createDocumentFragment();o.append(...t.map(U)),s.append(o)};let w=new _("#gallery a",{captionsData:"alt",captionDelay:250,animationSpeed:250,fadeSpeed:250,scrollZoom:!1});const L=async()=>{try{d++;const t=new URLSearchParams({key:"35169635-92091552d9eccdba3eb57d7a9",q:i,image_type:"photo",orientation:"horizontal",safesearch:"true",page:d,per_page:m});return(await z.get(`${O}?${t}`)).data.hits}catch(t){console.log(t),a.error({message:"Oh no! There is an error: "+t})}};I.addEventListener("submit",t=>{t.preventDefault(),i=b.value.trim(),n.innerHTML="",d=0,r=0,l.classList.add("visibility"),i!==""?(c.classList.remove("visibility"),L().then(s=>{c.classList.add("visibility"),b.value="",N(s,n),w.refresh(),s.length>=m?l.classList.remove("visibility"):n.childElementCount>0&&a.info({message:"We're sorry, but you've reached the end of search results."}),s.length===0&&a.error({message:"Sorry, there are no images matching your search query. Please try again!"}),r=2*document.querySelector(".result").getBoundingClientRect().height})):a.info({message:"Type correct search params!"})});l.addEventListener("click",()=>{c.classList.remove("visibility"),L().then(t=>{N(t,n),c.classList.add("visibility"),w.refresh(),window.scrollBy({top:r,behavior:"smooth"}),t.length<m&&(l.classList.add("visibility"),a.info({message:"We're sorry, but you've reached the end of search results."}))}).then(window.scrollBy({top:r,behavior:"smooth"}))});
//# sourceMappingURL=01-gallery.js.map
