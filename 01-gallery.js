import"./assets/styles-N0ZkVh6F.js";import{S as R,i as a,a as z}from"./assets/vendor-CRCB-GUD.js";const I=document.querySelector("#form"),b=document.querySelector("#form-input"),r=document.querySelector("#loader"),n=document.querySelector("#gallery"),c=document.querySelector("#more");let l=0,i="",d=0;const m=15,U="https://pixabay.com/api/",s=(e,t)=>Object.assign(document.createElement(e),t),W=({webformatURL:e,largeImageURL:t,tags:o,likes:x,views:S,comments:C,downloads:E})=>{const p=s("a",{className:"lightbox-link",href:t}),h=s("li",{className:"result"}),k=s("img",{className:"result-pic",src:e,alt:o}),u=s("div",{className:"result-desc"}),g=s("div",{className:"desc-el"}),q=s("p",{className:"desc-header",textContent:"Likes"}),D=s("p",{className:"desc-value",textContent:x});g.append(q,D);const y=s("div",{className:"desc-el"}),H=s("p",{className:"desc-header",textContent:"Views"}),P=s("p",{className:"desc-value",textContent:S});y.append(H,P);const v=s("div",{className:"desc-el"}),T=s("p",{className:"desc-header",textContent:"Comments"}),V=s("p",{className:"desc-value",textContent:C.toString()});v.append(T,V);const f=s("div",{className:"desc-el"}),B=s("p",{className:"desc-header",textContent:"Downloads"}),O=s("p",{className:"desc-value",textContent:E});return f.append(B,O),u.append(g,y,v,f),p.append(k),h.append(p,u),h},N=(e,t)=>{const o=document.createDocumentFragment();o.append(...e.map(W)),t.append(o)};let w=new R("#gallery a",{captionsData:"alt",captionDelay:250,animationSpeed:250,fadeSpeed:250,scrollZoom:!1});const L=async()=>{try{d++;const e=new URLSearchParams({key:"35169635-92091552d9eccdba3eb57d7a9",q:i,image_type:"photo",orientation:"horizontal",safesearch:"true",page:d,per_page:m});return(await z.get(`${U}?${e}`)).data.hits}catch(e){a.error({message:"Oh no! There is an error: "+e.message})}};I.addEventListener("submit",e=>{e.preventDefault(),i=b.value.trim(),n.innerHTML="",d=0,l=0,b.value="",c.classList.add("visibility"),i!==""?(r.classList.remove("visibility"),(async()=>{try{const t=await L();N(t,n),r.classList.add("visibility"),w.refresh(),t.length>=m?c.classList.remove("visibility"):n.childElementCount>0&&a.info({message:"We're sorry, but you've reached the end of search results."}),t.length===0&&a.error({message:"Sorry, there are no images matching your search query. Please try again!"}),l=2*document.querySelector(".result").getBoundingClientRect().height}catch(t){console.log(t.message)}})()):a.info({message:"Type correct search params!"})});c.addEventListener("click",()=>{r.classList.remove("visibility"),(async()=>{try{const e=await L();N(e,n),r.classList.add("visibility"),window.scrollBy({top:l,behavior:"smooth"}),w.refresh(),e.length<m&&(c.classList.add("visibility"),a.info({message:"We're sorry, but you've reached the end of search results."}))}catch(e){a.error({message:"Oh no! There is an error: "+e.message})}})()});
//# sourceMappingURL=01-gallery.js.map
