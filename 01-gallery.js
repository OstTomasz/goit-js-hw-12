import"./assets/styles-N0ZkVh6F.js";import{S as z,i as a,a as I}from"./assets/vendor-CRCB-GUD.js";const O=document.querySelector("#form"),f=document.querySelector("#form-input"),c=document.querySelector("#loader"),l=document.querySelector("#gallery"),n=document.querySelector("#more");let r="",i=0;const d=15,R="https://pixabay.com/api/",e=(s,t)=>Object.assign(document.createElement(s),t),U=({webformatURL:s,largeImageURL:t,tags:o,likes:x,views:S,comments:w,downloads:E})=>{const m=e("a",{className:"lightbox-link",href:t}),p=e("li",{className:"result"}),C=e("img",{className:"result-pic",src:s,alt:o}),u=e("div",{className:"result-desc"}),g=e("div",{className:"desc-el"}),k=e("p",{className:"desc-header",textContent:"Likes"}),q=e("p",{className:"desc-value",textContent:x});g.append(k,q);const h=e("div",{className:"desc-el"}),D=e("p",{className:"desc-header",textContent:"Views"}),H=e("p",{className:"desc-value",textContent:S});h.append(D,H);const y=e("div",{className:"desc-el"}),V=e("p",{className:"desc-header",textContent:"Comments"}),P=e("p",{className:"desc-value",textContent:w.toString()});y.append(V,P);const v=e("div",{className:"desc-el"}),T=e("p",{className:"desc-header",textContent:"Downloads"}),_=e("p",{className:"desc-value",textContent:E});return v.append(T,_),u.append(g,h,y,v),m.append(C),p.append(m,u),p},b=(s,t)=>{const o=document.createDocumentFragment();o.append(...s.map(U)),t.append(o)};let L=new z("#gallery a",{captionsData:"alt",captionDelay:250,animationSpeed:250,fadeSpeed:250,scrollZoom:!1});const N=async()=>{try{i++;const s=new URLSearchParams({key:"35169635-92091552d9eccdba3eb57d7a9",q:r,image_type:"photo",orientation:"horizontal",safesearch:"true",page:i,per_page:d});return(await I.get(`${R}?${s}`)).data.hits}catch(s){console.log(s),a.error({message:"Oh no! There is an error: "+s})}};O.addEventListener("submit",s=>{s.preventDefault(),l.innerHTML="",r=f.value.trim(),i=0,r!==""?(c.classList.remove("visibility"),N().then(t=>{c.classList.add("visibility"),f.value="",b(t,l),L.refresh(),t.length>=d?n.classList.remove("visibility"):a.info({message:"We're sorry, but you've reached the end of search results."}),t.length===0&&(a.error({message:"Sorry, there are no images matching your search query. Please try again!"}),n.classList.add("visibility"))})):(a.info({message:"Type correct search params!"}),n.classList.add("visibility"))});n.addEventListener("click",()=>{c.classList.remove("visibility"),N().then(s=>{b(s,l),c.classList.add("visibility"),L.refresh(),s.length<d&&(n.classList.add("visibility"),a.info({message:"We're sorry, but you've reached the end of search results."}))})});
//# sourceMappingURL=01-gallery.js.map
